(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9105],{6963:(s,i,e)=>{"use strict";e.d(i,{O:()=>n});let n=[{data:{index:"Projects",assert:"@httpx/assert",exception:"@httpx/exception","dsn-parser":"@httpx/dsn-parser","plain-object":"@httpx/plain-object",sponsors:"Sponsors",license:"License"}},{name:"assert",route:"/assert",children:[{data:{index:"Getting started"}},{name:"index",route:"/assert",frontMatter:{sidebarTitle:"Index"}}]},{name:"dsn-parser",route:"/dsn-parser",frontMatter:{sidebarTitle:"Dsn Parser"}},{name:"exception",route:"/exception",children:[{data:{index:"Getting started",recipes:"Recipes",ecosystem:"Ecosystem",advanced:"Advanced"}},{name:"advanced",route:"/exception/advanced",frontMatter:{sidebarTitle:"Advanced"}},{name:"ecosystem",route:"/exception/ecosystem",frontMatter:{sidebarTitle:"Ecosystem"}},{name:"index",route:"/exception",frontMatter:{sidebarTitle:"Index"}},{name:"recipes",route:"/exception/recipes",frontMatter:{sidebarTitle:"Recipes"}}]},{name:"index",route:"/",frontMatter:{sidebarTitle:"Index"}},{name:"license",route:"/license",frontMatter:{sidebarTitle:"License"}},{name:"plain-object",route:"/plain-object",frontMatter:{sidebarTitle:"Plain Object"}},{name:"sponsors",route:"/sponsors",frontMatter:{sidebarTitle:"Sponsors"}}]},8542:(s,i,e)=>{"use strict";e.r(i),e.d(i,{default:()=>c,useTOC:()=>d});var n=e(6514),h=e(7017),l=e(6963),r=e(9493),a=e(9951),t=e(3413);function d(s){return[{value:"Features",id:"features",depth:2},{value:"Install",id:"install",depth:2},{value:"Usage",id:"usage",depth:2},{value:"parseDsnOrThrow",id:"parsedsnorthrow",depth:3},{value:"parseDsn",id:"parsedsn",depth:3},{value:"Options",id:"options",depth:3},{value:"Utilities",id:"utilities",depth:2},{value:"Typeguard",id:"typeguard",depth:3},{value:"Assertion",id:"assertion",depth:3},{value:"ParsableDsn",id:"parsabledsn",depth:3},{value:"convertJdbcToDsn",id:"convertjdbctodsn",depth:3},{value:"DSN parsing",id:"dsn-parsing",depth:2},{value:"Requirements",id:"requirements",depth:3},{value:"DSN support",id:"dsn-support",depth:3},{value:"Query parameters",id:"query-parameters",depth:3},{value:"Portability",id:"portability",depth:3},{value:"Validation",id:"validation",depth:3},{value:"Ecosystem",id:"ecosystem",depth:2},{value:"Zod integration example",id:"zod-integration-example",depth:3},{value:"Faq",id:"faq",depth:2},{value:"Why ’/’ in password matters",id:"why--in-password-matters",depth:3},{value:"Compatibility",id:"compatibility",depth:2}]}function k(s,i){throw Error("Expected "+(i?"component":"object")+" `"+s+"` to be defined: you likely forgot to import, pass, or provide it.")}let c=(0,h.e)(function(s){let{toc:i=d(s)}=s,e={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...s.components};return a.t||k("Tabs",!1),a.t.Tab||k("Tabs.Tab",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"shadow-md -ml-2 mt-[30px] mb-[5px] border p-5 rounded ",children:(0,n.jsx)(e.p,{children:"DSN & JDBC string parser with query params support in a light and modern package."})}),"\n",(0,n.jsx)(e.h2,{id:i[0].id,children:i[0].value}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:["\uD83D\uDC49\xa0 Parse individual fields (ie: ",(0,n.jsx)(e.code,{children:"driver"}),", ",(0,n.jsx)(e.code,{children:"user"}),", ",(0,n.jsx)(e.code,{children:"password"}),", ",(0,n.jsx)(e.code,{children:"host"}),"…)"]}),"\n",(0,n.jsx)(e.li,{children:"\uD83D\uDD96\xa0 Handle query string parameters and converts to boolean and numeric values."}),"\n",(0,n.jsxs)(e.li,{children:["\uD83E\uDD84\xa0 Handle ",(0,n.jsx)(e.a,{href:"#why--in-password-matters",children:"special characters like"})," ",(0,n.jsx)(e.code,{children:"/"}),", ",(0,n.jsx)(e.code,{children:":"}),"… in the password (some libs won’t)."]}),"\n",(0,n.jsx)(e.li,{children:"\uD83D\uDE80\xa0 Error with indicative message / reasons (discriminated union or throwable)."}),"\n",(0,n.jsx)(e.li,{children:"\uD83D\uDEE1️\xa0 Don’t leak passwords in the error message."}),"\n",(0,n.jsx)(e.li,{children:"\uD83D\uDE4F\xa0 Assertion and typeguard helpers"}),"\n",(0,n.jsxs)(e.li,{children:["\uD83E\uDD17\xa0 Ecosystem friendly (ie: ",(0,n.jsx)(e.a,{href:"#zod-integration-example",children:"zod integration"}),")."]}),"\n"]}),"\n",(0,n.jsx)(e.h2,{id:i[1].id,children:i[1].value}),"\n",(0,n.jsx)("div",{className:"shields-ctn",children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:"https://www.npmjs.com/package/@httpx/dsn-parser",children:(0,n.jsx)(e.img,{src:"https://img.shields.io/npm/v/@httpx/dsn-parser?style=for-the-badge&label=Npm&labelColor=444&color=informational",alt:"npm"})}),"\n",(0,n.jsx)(e.a,{href:"https://github.com/belgattitude/httpx/blob/main/packages/dsn-parser/CHANGELOG.md",children:(0,n.jsx)(e.img,{src:"https://img.shields.io/static/v1?label=&message=changelog&logo=github&style=for-the-badge&labelColor=444&color=informational",alt:"changelog"})}),"\n",(0,n.jsx)(e.a,{href:"https://app.codecov.io/gh/belgattitude/httpx/tree/main/packages%2Fdsn-parser",children:(0,n.jsx)(e.img,{src:"https://img.shields.io/codecov/c/github/belgattitude/httpx?logo=codecov&label=Unit&flag=httpx-dsn-parser-unit&style=for-the-badge&labelColor=444",alt:"codecov"})}),"\n",(0,n.jsx)(e.a,{href:"https://github.com/belgattitude/httpx/blob/main/packages/dsn-parser/.size-limit.cjs",children:(0,n.jsx)(e.img,{src:"https://img.shields.io/static/v1?label=&message=cjs%7Cesm@treeshake&logo=webpack&style=for-the-badge&labelColor=444&color=informational",alt:"bundles"})}),"\n",(0,n.jsx)(e.img,{src:"https://img.shields.io/static/v1?label=Node&message=18%2b&logo=node.js&style=for-the-badge&labelColor=444&color=informational",alt:"node"}),"\n",(0,n.jsx)(e.a,{href:"https://browserslist.dev/?q=ZGVmYXVsdHMsY2hyb21lID4gOTYsZmlyZWZveCA%2BIDkwLGVkZ2UgPjE4LHNhZmFyaSA%2BIDExLGlvcz4gMTEsb3BlcmEgPiA3Nw%3D%3D",children:(0,n.jsx)(e.img,{src:"https://img.shields.io/static/v1?label=Browser&message=%3E96%25&logo=googlechrome&style=for-the-badge&labelColor=444&color=informational",alt:"browserslist"})}),"\n",(0,n.jsx)(e.a,{href:"https://bundlephobia.com/package/@httpx/dsn-parser@latest",children:(0,n.jsx)(e.img,{src:"https://img.shields.io/bundlephobia/minzip/@httpx/dsn-parser@latest?label=Max&style=for-the-badge&labelColor=444&color=informational",alt:"size"})}),"\n",(0,n.jsx)(e.a,{href:"https://codeclimate.com/github/belgattitude/httpx",children:(0,n.jsx)(e.img,{src:"https://img.shields.io/codeclimate/maintainability/belgattitude/httpx?label=Quality&logo=code-climate&style=for-the-badge&labelColor=444",alt:"maintainability"})}),"\n",(0,n.jsx)(e.a,{href:"https://www.npmjs.com/package/@httpx/dsn-parser",children:(0,n.jsx)(e.img,{src:"https://img.shields.io/npm/dm/@httpx/dsn-parser?style=for-the-badge&labelColor=444",alt:"downloads"})}),"\n",(0,n.jsx)(e.a,{href:"https://github.com/belgattitude/httpx/blob/main/LICENSE",children:(0,n.jsx)(e.img,{src:"https://img.shields.io/npm/l/@httpx/dsn-parser?style=for-the-badge&labelColor=444",alt:"license"})})]})}),"\n",(0,n.jsxs)(a.t,{items:["yarn","pnpm","npm"],defaultIndex:0,children:[(0,n.jsx)(a.t.Tab,{children:(0,n.jsx)(e.pre,{icon:t.k3,tabIndex:"0","data-language":"bash","data-word-wrap":"","data-copy":"",children:(0,n.jsx)(e.code,{children:(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"yarn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" add"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" @httpx/dsn-parser"})]})})})}),(0,n.jsx)(a.t.Tab,{children:(0,n.jsx)(e.pre,{icon:t.k3,tabIndex:"0","data-language":"bash","data-word-wrap":"","data-copy":"",children:(0,n.jsx)(e.code,{children:(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" add"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" @httpx/dsn-parser"})]})})})}),(0,n.jsx)(a.t.Tab,{children:(0,n.jsx)(e.pre,{icon:t.k3,tabIndex:"0","data-language":"bash","data-word-wrap":"","data-copy":"",children:(0,n.jsx)(e.code,{children:(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"npm"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" install"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" @httpx/dsn-parser"})]})})})})]}),"\n",(0,n.jsx)(e.h2,{id:i[2].id,children:i[2].value}),"\n",(0,n.jsx)(e.h3,{id:i[3].id,children:i[3].value}),"\n",(0,n.jsx)(e.p,{children:"Usage with exceptions"}),"\n",(0,n.jsx)(e.pre,{tabIndex:"0","data-language":"typescript","data-word-wrap":"","data-copy":"",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { parseDsnOrThrow } "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "@httpx/dsn-parser"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" dsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "redis://user:p@/ssword@localhost:6379/0?ssl=true"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"try"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  const"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" parsedDsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" parseDsnOrThrow"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(dsn);"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  assert."}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"deepEqual"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(parsedDsn, {"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    driver: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"redis"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    pass: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"p@/ssword"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    host: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"localhost"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    user: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"user"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    port: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"6379"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    db: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"0"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    params: {"})}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      ssl: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"true"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    },"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  });"})}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"} "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"catch"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" (e) {"})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // example:"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'  // e -> Error("Can\'t parse dsn: Invalid port: 12345678 (INVALID_PORT)")'})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})}),"\n",(0,n.jsx)(e.h3,{id:i[4].id,children:i[4].value}),"\n",(0,n.jsx)(e.p,{children:"Usage with discriminated union."}),"\n",(0,n.jsx)(e.pre,{tabIndex:"0","data-language":"typescript","data-word-wrap":"","data-copy":"",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { parseDsn } "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "@httpx/dsn-parser"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" dsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "redis://user:p@/ssword@localhost:6379/0?ssl=true"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" parsed"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" parseDsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(dsn);"})]}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"if"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" (parsed.success) {"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  assert."}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"deepEqual"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(parsed.value, {"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    driver: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"redis"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    pass: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"p@/ssword"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    host: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"localhost"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    user: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"user"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    port: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"6379"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    db: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"0"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    params: {"})}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      ssl: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"true"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    },"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  });"})}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"} "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"else"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  assert."}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"deepEqual"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(parsed, {"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    success: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"false"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"    // Reasons might vary"})}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    reason: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"INVALID_PORT"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    message: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"Invalid http port: 12345678"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  });"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})}),"\n",(0,n.jsx)(e.h3,{id:i[5].id,children:i[5].value}),"\n",(0,n.jsx)(e.pre,{tabIndex:"0","data-language":"typescript","data-word-wrap":"","data-copy":"",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { parseDsn, "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"type"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ParseDsnOptions } "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "@httpx/dsn-parser"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" dsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "mySql://localhost:6379/db"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" parsed"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" parseDsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(dsn, {"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  lowercaseDriver: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"true"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // Overrides, allows to force some values (ParseDsnOptions)"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  overrides: {"})}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    db: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"db3"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    port: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"undefined"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  },"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"});"})}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"assert."}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"deepEqual"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(parsed.value, {"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  driver: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"mysql"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  host: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"localhost"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  db: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"db3"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"});"})})]})}),"\n",(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{children:"Params"}),(0,n.jsx)(e.th,{children:"Type"}),(0,n.jsx)(e.th,{children:"Description"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:"lowercaseDriver"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:"boolean"})}),(0,n.jsxs)(e.td,{children:["Driver name in lowercase, default ",(0,n.jsx)(e.code,{children:"false"})]})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:"overrides"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:"ParseDsnOptions"})}),(0,n.jsx)(e.td,{children:"Overrides allows to force specific values"})]})]})]}),"\n",(0,n.jsx)(e.h2,{id:i[6].id,children:i[6].value}),"\n",(0,n.jsx)(e.h3,{id:i[7].id,children:i[7].value}),"\n",(0,n.jsx)(e.pre,{tabIndex:"0","data-language":"typescript","data-word-wrap":"","data-copy":"",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { isParsableDsn, "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"type"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ParsableDsn } "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "@httpx/dsn-parser"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" dsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "postgresql://localhost:6379/db"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"if"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ("}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"isParsableDsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(dsn)) {"})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // known to be ParsableDSN"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})}),"\n",(0,n.jsx)(e.h3,{id:i[8].id,children:i[8].value}),"\n",(0,n.jsx)(e.pre,{tabIndex:"0","data-language":"typescript","data-word-wrap":"","data-copy":"",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { assertParsableDsn, ParsableDsn } "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "@httpx/dsn-parser"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"try"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"  assertParsableDsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"redis:/"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:");"})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // Type is narrowed to string (ParsableDsn) if it"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // didn't throw."})}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"} "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"catch"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" (e) {"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  assert."}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"equal"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(e.message, "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"Cannot parse DSN (PARSE_ERROR)"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:");"})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})}),"\n",(0,n.jsx)(e.h3,{id:i[9].id,children:i[9].value}),"\n",(0,n.jsx)(e.p,{children:"ParsableDsn is a weak opaque type."}),"\n",(0,n.jsx)(e.pre,{tabIndex:"0","data-language":"typescript","data-word-wrap":"","data-copy":"",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"declare"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" const"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" tag"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:":"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" unique"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" symbol"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"export"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" type"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" WeakOpaqueContainer"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"<"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"Token"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"> "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  readonly"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" [tag]"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:":"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" Token"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"};"})}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"export"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" type"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" ParsableDsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" string"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" &"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" WeakOpaqueContainer"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"<"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"'ParsableDsn'"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">;"})]})]})}),"\n",(0,n.jsxs)(e.p,{children:["It can be used to enforce that the ",(0,n.jsx)(e.code,{children:"isParsableDsn"})," or ",(0,n.jsx)(e.code,{children:"assertParsableDsn"})," have been\nused before usage."]}),"\n",(0,n.jsx)(e.pre,{tabIndex:"0","data-language":"typescript","data-word-wrap":"","data-copy":"",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" type"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { ParsableDsn } "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "./dsn-parser.type"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { assertParsableDsn } "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "./assert-parsable-dsn"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// to opt-in, just change the dsn param type to `ParsableDsn` instead of `string`"})}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" fnWithWeakOpaqueType"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ("}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"dsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:":"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" ParsableDsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"=>"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"    // by explictly requiring a ParsableDsn, we can rely on typescript"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"    // to be sure that a validation has occured before (isParsableDsn or assertParsableDsn)"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"fnWithWeakOpaqueType"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"'redis://localhost'"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:");  "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// ❌ typescript will complain"})]}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" dsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" 'redis://localhost'"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"assertParsableDsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(dsn);"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"fnWithWeakOpaqueType"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(dsn);  "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// ✅ working cause it was checked before"})]}),"\n",(0,n.jsx)(e.span,{children:" "})]})}),"\n",(0,n.jsxs)(e.blockquote,{children:["\n",(0,n.jsx)(e.p,{children:"PS: WeakOpaque usage is totally optional, a nice to have if applicable"}),"\n"]}),"\n",(0,n.jsx)(e.h3,{id:i[10].id,children:i[10].value}),"\n",(0,n.jsxs)(e.p,{children:["Utility to convert ",(0,n.jsx)(e.a,{href:"https://learn.microsoft.com/en-us/sql/connect/jdbc/building-the-connection-url?view=sql-server-ver15",children:"jdbc"})," dsn.\nUseful for prisma using ",(0,n.jsx)(e.a,{href:"https://www.prisma.io/docs/concepts/database-connectors/sql-server#connection-details",children:"sqlserver"}),"."]}),"\n",(0,n.jsx)(e.pre,{tabIndex:"0","data-language":"typescript","data-word-wrap":"","data-copy":"",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { convertJdbcToDsn } "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "@httpx/dsn-parser"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" jdbcDsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'  "sqlserver://localhost:1433;database=my-db;authentication=default;user=sa;password=pass03$;encrypt=true;trustServerCertificate=true"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" dsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" convertJdbcToDsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(jdbc);"})]}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// -> 'sqlserver://localhost:1433?database=my-db&authentication=default&user=sa&password=pass03$&encrypt=true&trustServerCertificate=true'"})})]})}),"\n",(0,n.jsx)(e.h2,{id:i[11].id,children:i[11].value}),"\n",(0,n.jsx)(e.h3,{id:i[12].id,children:i[12].value}),"\n",(0,n.jsxs)(e.p,{children:["The minimum requirement for dsn parsing is to have a ",(0,n.jsx)(e.strong,{children:"host"})," and\na ",(0,n.jsx)(e.strong,{children:"driver"})," ",(0,n.jsx)(e.em,{children:(0,n.jsx)(e.code,{children:"(/[a-z0-9]+/i)"})})," defined. All other options are optional."]}),"\n",(0,n.jsx)(e.pre,{tabIndex:"0","data-language":"typescript","data-word-wrap":"","data-copy":"",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"export"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" type"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" ParsedDsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"  driver"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:":"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" string"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"  host"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:":"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" string"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"  user"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"?:"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" string"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"  pass"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"?:"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" string"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"  port"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"?:"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" number"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"  db"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"?:"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" string"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  /** Query params */"})}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"  params"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"?:"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" Record"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"<"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"string"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"number"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" |"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" string"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" |"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" boolean"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">;"})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"};"})})]})}),"\n",(0,n.jsx)(e.h3,{id:i[13].id,children:i[13].value}),"\n",(0,n.jsx)(e.p,{children:"Things like:"}),"\n",(0,n.jsx)(e.pre,{tabIndex:"0","data-language":"typescript","data-word-wrap":"","data-copy":"",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" validExamples"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ["})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'  "postgresql://postgres:@localhost:5432/prisma-db"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'  "redis://us_er-name:P@ass-_:?/ssw/rd@www.example.com:6379/0?cache=true"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  //..."})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"];"})})]})}),"\n",(0,n.jsx)(e.p,{children:"should work."}),"\n",(0,n.jsx)(e.h3,{id:i[14].id,children:i[14].value}),"\n",(0,n.jsxs)(e.p,{children:["Simple query parameters are supported (no arrays, no nested). For convenience\nit will cast ",(0,n.jsx)(e.code,{children:"'true'"})," and ",(0,n.jsx)(e.code,{children:"'false'"})," to ",(0,n.jsx)(e.strong,{children:"booleans"}),",\nparse numeric string to ",(0,n.jsx)(e.strong,{children:"numbers"})," if possible. When a query\nparameter does not contain a value, it will be returned as ",(0,n.jsx)(e.code,{children:"true"}),"."]}),"\n",(0,n.jsx)(e.pre,{tabIndex:"0","data-language":"typescript","data-word-wrap":"","data-copy":"",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" dsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "redis://host?index=1&compress=false&ssl"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" parsed"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" parseDsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(dsn);"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"assert."}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"deepEqual"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(parsed.value.params, {"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  index: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"1"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  compress: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"false"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  ssl: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"true"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"});"})})]})}),"\n",(0,n.jsx)(e.h3,{id:i[15].id,children:i[15].value}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"parseDsn"})," won’t make any assumptions on default values ",(0,n.jsx)(e.em,{children:"(i.e: default port for mysql…)"}),"."]}),"\n",(0,n.jsx)(e.h3,{id:i[16].id,children:i[16].value}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"parseDsn"})," wraps its result in a ",(0,n.jsx)(e.a,{href:"https://basarat.gitbook.io/typescript/type-system/discriminated-unions",children:"discriminated union"}),"\nto allow the retrieval of validation errors. No ",(0,n.jsx)(e.code,{children:"try... catch"}),"needed and full typescript support."]}),"\n",(0,n.jsx)(e.p,{children:"Reason codes are guaranteed in semantic versions and messages does not\nleak credentials"}),"\n",(0,n.jsx)(e.pre,{tabIndex:"0","data-language":"typescript","data-word-wrap":"","data-copy":"",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" parsed"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" parseDsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"redis://localhost:65636"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:");"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"assert."}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"deepEqual"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(parsed, {"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  success: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"false"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  reason: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"INVALID_PORT"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  message: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"Invalid port: 65636"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"});"})}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"if"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ("}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"!"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"parsed.success) {"})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // `success: false` narrows the type to"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // {"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  //   reason: 'PARSE_ERROR'|'INVALID_ARGUMENT'|..."})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  //   message: string"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // }"})}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"  log"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(parsed.reason);"})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})}),"\n",(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{children:"Reason"}),(0,n.jsx)(e.th,{children:"Message"}),(0,n.jsx)(e.th,{children:"Comment"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:"'PARSE_ERROR'"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:"Cannot parse DSN"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.em,{children:"Regexp failed"})})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:"'INVALID_ARGUMENT'"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:"DSN must be a string"})}),(0,n.jsx)(e.td,{})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:"'EMPTY_DSN'"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:"DSN cannot be empty"})}),(0,n.jsx)(e.td,{})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:"'INVALID_PORT'"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:"Invalid port: ${port}"})}),(0,n.jsx)(e.td,{children:"[1-65535]"})]})]})]}),"\n",(0,n.jsx)(e.h2,{id:i[17].id,children:i[17].value}),"\n",(0,n.jsx)(e.h3,{id:i[18].id,children:i[18].value}),"\n",(0,n.jsxs)(e.p,{children:["The ",(0,n.jsx)(e.code,{children:"isParsableDsn"})," can be easily plugged into zod custom validation. Example:"]}),"\n",(0,n.jsx)(e.pre,{tabIndex:"0","data-language":"typescript","data-word-wrap":"","data-copy":"",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { z } "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "zod"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { isParsableDsn, "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"type"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ParsableDsn } "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "@httpx/dsn-parser"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"export"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" const"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" serverEnvSchema"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" z."}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"object"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"({"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  PRISMA_DATABASE_URL: z."}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"custom"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"<"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"ParsableDsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">("})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    ("}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"dsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"=>"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" isParsableDsn"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(dsn),"})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    "Invalid DSN format."'})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  ),"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"});"})}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"serverEnvSchema."}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"parse"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(process.env);"})]})]})}),"\n",(0,n.jsx)(e.h2,{id:i[19].id,children:i[19].value}),"\n",(0,n.jsx)(e.h3,{id:i[20].id,children:i[20].value}),"\n",(0,n.jsx)(e.p,{children:"Some libs (ioredis…) still might fail parsing a password containing ’/’,\nunfortunately they’re pretty convenient, i.e:"}),"\n",(0,n.jsx)(e.pre,{icon:t.k3,tabIndex:"0","data-language":"bash","data-word-wrap":"","data-copy":"",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"openssl"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" rand"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 60"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" |"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" openssl"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" base64"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -A"})]}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# YFUXIG9INIK7dFyE9aXtxLmjmnYL0zv6YluBJJbC6alKIBema/MwEGy3VUpx0oLAvWHUFGFMagAdLxrB"})})]})}),"\n",(0,n.jsx)(e.h2,{id:i[21].id,children:i[21].value}),"\n",(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{children:"Level"}),(0,n.jsx)(e.th,{children:"CI"}),(0,n.jsx)(e.th,{children:"Description"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:"Node"}),(0,n.jsx)(e.td,{children:"✅"}),(0,n.jsx)(e.td,{children:"CI for 18.x, 20.x & 22.x."})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:"Browsers"}),(0,n.jsx)(e.td,{children:"✅"}),(0,n.jsxs)(e.td,{children:[(0,n.jsx)(e.a,{href:"https://browserslist.dev/?q=ZGVmYXVsdHMsIGNocm9tZSA%2BPSA5NixmaXJlZm94ID49IDkwLGVkZ2UgPj0gMTksc2FmYXJpID49IDEyLGlvcyA%2BPSAxMixvcGVyYSA%2BPSA3Nw%3D%3D",children:"> 95%"})," on 12/2023. Mins to ",(0,n.jsx)(e.a,{href:"https://github.com/belgattitude/httpx/blob/main/packages/dsn-parser/.browserslistrc",children:"Chrome 96+, Firefox 90+, Edge 19+, iOS 12+, Safari 12+, Opera 77+"})]})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:"Edge"}),(0,n.jsx)(e.td,{children:"✅"}),(0,n.jsxs)(e.td,{children:["Ensured on CI with ",(0,n.jsx)(e.a,{href:"https://github.com/vercel/edge-runtime",children:"@vercel/edge-runtime"}),"."]})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:"Typescript"}),(0,n.jsx)(e.td,{children:"✅"}),(0,n.jsxs)(e.td,{children:["TS 5.0 + / ",(0,n.jsx)(e.a,{href:"https://github.com/arethetypeswrong/arethetypeswrong.github.io",children:"are-the-type-wrong"})," checks on CI."]})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:"ES2022"}),(0,n.jsx)(e.td,{children:"✅"}),(0,n.jsxs)(e.td,{children:["Dist files checked with ",(0,n.jsx)(e.a,{href:"https://github.com/yowainwright/es-check",children:"es-check"})]})]})]})]}),"\n",(0,n.jsxs)(e.blockquote,{children:["\n",(0,n.jsxs)(e.p,{children:["For ",(0,n.jsx)(e.em,{children:"older"})," browsers: most frontend frameworks can transpile the library (ie: ",(0,n.jsx)(e.a,{href:"https://nextjs.org/docs/app/api-reference/next-config-js/transpilePackages",children:"nextjs"}),"…)"]}),"\n"]})]})},"/dsn-parser",{filePath:"src/pages/dsn-parser.mdx",timestamp:1733824214e3,pageMap:l.O,frontMatter:{},title:"Dsn Parser"},"undefined"==typeof RemoteContent?d:RemoteContent.useTOC)},8564:(s,i,e)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dsn-parser",function(){return e(8542)}])},9951:(s,i,e)=>{"use strict";e.d(i,{t:()=>Y});var n=e(6514),h=e(9854),l=e(8597),r=e(5834),a=e(7692),t=e(5424),d=e(3160),k=e(3455),c=e(7110),p=e(2368),x=e(9687);function E({onFocus:s}){let i;let[e,n]=(0,r.useState)(!0),h=(i=(0,r.useRef)(!1),(0,d.s)(()=>(i.current=!0,()=>{i.current=!1}),[]),i);return e?r.createElement(x.j,{as:"button",type:"button",features:x.u.Focusable,onFocus:i=>{i.preventDefault();let e,l=50;e=requestAnimationFrame(function i(){if(l--<=0){e&&cancelAnimationFrame(e);return}if(s()){if(cancelAnimationFrame(e),!h.current)return;n(!1);return}e=requestAnimationFrame(i)})}}):null}var o=e(393),j=e(6194),g=e(8615),y=e(6300),u=e(6855);let F=r.createContext(null);function b({children:s}){let i=r.useRef({groups:new Map,get(s,i){var e;let n=this.groups.get(s);n||(n=new Map,this.groups.set(s,n));let h=null!=(e=n.get(i))?e:0;return n.set(i,h+1),[Array.from(n.keys()).indexOf(i),function(){let s=n.get(i);s>1?n.set(i,s-1):n.delete(i)}]}});return r.createElement(F.Provider,{value:i},s)}function m(s){let i=r.useContext(F);if(!i)throw Error("You must wrap your component in a <StableCollection>");let e=r.useId(),[n,h]=i.current.get(s,e);return r.useEffect(()=>h,[]),n}var D=e(77),C=(s=>(s[s.Forwards=0]="Forwards",s[s.Backwards=1]="Backwards",s))(C||{}),f=(s=>(s[s.Less=-1]="Less",s[s.Equal=0]="Equal",s[s.Greater=1]="Greater",s))(f||{}),A=(s=>(s[s.SetSelectedIndex=0]="SetSelectedIndex",s[s.RegisterTab=1]="RegisterTab",s[s.UnregisterTab=2]="UnregisterTab",s[s.RegisterPanel=3]="RegisterPanel",s[s.UnregisterPanel=4]="UnregisterPanel",s))(A||{});let v={0(s,i){var e;let n=(0,o.wl)(s.tabs,s=>s.current),h=(0,o.wl)(s.panels,s=>s.current),l=n.filter(s=>{var i;return!(null!=(i=s.current)&&i.hasAttribute("disabled"))}),r={...s,tabs:n,panels:h};if(i.index<0||i.index>n.length-1){let e=(0,j.Y)(Math.sign(i.index-s.selectedIndex),{[-1]:()=>1,0:()=>(0,j.Y)(Math.sign(i.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(0===l.length)return r;let h=(0,j.Y)(e,{0:()=>n.indexOf(l[0]),1:()=>n.indexOf(l[l.length-1])});return{...r,selectedIndex:-1===h?s.selectedIndex:h}}let a=n.slice(0,i.index),t=[...n.slice(i.index),...a].find(s=>l.includes(s));if(!t)return r;let d=null!=(e=n.indexOf(t))?e:s.selectedIndex;return -1===d&&(d=s.selectedIndex),{...r,selectedIndex:d}},1(s,i){if(s.tabs.includes(i.tab))return s;let e=s.tabs[s.selectedIndex],n=(0,o.wl)([...s.tabs,i.tab],s=>s.current),h=s.selectedIndex;return s.info.current.isControlled||-1===(h=n.indexOf(e))&&(h=s.selectedIndex),{...s,tabs:n,selectedIndex:h}},2:(s,i)=>({...s,tabs:s.tabs.filter(s=>s!==i.tab)}),3:(s,i)=>s.panels.includes(i.panel)?s:{...s,panels:(0,o.wl)([...s.panels,i.panel],s=>s.current)},4:(s,i)=>({...s,panels:s.panels.filter(s=>s!==i.panel)})},B=(0,r.createContext)(null);function w(s){let i=(0,r.useContext)(B);if(null===i){let i=Error(`<${s} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,w),i}return i}B.displayName="TabsDataContext";let P=(0,r.createContext)(null);function I(s){let i=(0,r.useContext)(P);if(null===i){let i=Error(`<${s} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,I),i}return i}function T(s,i){return(0,j.Y)(i.type,v,s,i)}P.displayName="TabsActionsContext";let _=u.Ac.RenderStrategy|u.Ac.Static,S=(0,u.FX)(function(s,i){var e,n;let k=(0,r.useId)(),{id:x=`headlessui-tabs-tab-${k}`,disabled:E=!1,autoFocus:F=!1,...b}=s,{orientation:C,activation:f,selectedIndex:A,tabs:v,panels:B}=w("Tab"),P=I("Tab"),T=w("Tab"),[_,S]=(0,r.useState)(null),N=(0,r.useRef)(null),q=(0,p.P)(N,i,S);(0,d.s)(()=>P.registerTab(N),[P,N]);let M=m("tabs"),O=v.indexOf(N);-1===O&&(O=M);let R=O===A,L=(0,t._)(s=>{var i;let e=s();if(e===o.Me.Success&&"auto"===f){let s=null==(i=(0,y.T)(N))?void 0:i.activeElement,e=T.tabs.findIndex(i=>i.current===s);-1!==e&&P.change(e)}return e}),U=(0,t._)(s=>{let i=v.map(s=>s.current).filter(Boolean);if(s.key===D.D.Space||s.key===D.D.Enter){s.preventDefault(),s.stopPropagation(),P.change(O);return}switch(s.key){case D.D.Home:case D.D.PageUp:return s.preventDefault(),s.stopPropagation(),L(()=>(0,o.CU)(i,o.BD.First));case D.D.End:case D.D.PageDown:return s.preventDefault(),s.stopPropagation(),L(()=>(0,o.CU)(i,o.BD.Last))}if(L(()=>(0,j.Y)(C,{vertical:()=>s.key===D.D.ArrowUp?(0,o.CU)(i,o.BD.Previous|o.BD.WrapAround):s.key===D.D.ArrowDown?(0,o.CU)(i,o.BD.Next|o.BD.WrapAround):o.Me.Error,horizontal:()=>s.key===D.D.ArrowLeft?(0,o.CU)(i,o.BD.Previous|o.BD.WrapAround):s.key===D.D.ArrowRight?(0,o.CU)(i,o.BD.Next|o.BD.WrapAround):o.Me.Error}))===o.Me.Success)return s.preventDefault()}),G=(0,r.useRef)(!1),Y=(0,t._)(()=>{var s;G.current||(G.current=!0,null==(s=N.current)||s.focus({preventScroll:!0}),P.change(O),(0,g._)(()=>{G.current=!1}))}),V=(0,t._)(s=>{s.preventDefault()}),{isFocusVisible:W,focusProps:z}=(0,h.o)({autoFocus:F}),{isHovered:X,hoverProps:Z}=(0,l.M)({isDisabled:E}),{pressed:H,pressProps:J}=(0,a.Z)({disabled:E}),$=(0,r.useMemo)(()=>({selected:R,hover:X,active:H,focus:W,autofocus:F,disabled:E}),[R,X,W,H,F,E]),K=(0,u.v6)({ref:q,onKeyDown:U,onMouseDown:V,onClick:Y,id:x,role:"tab",type:(0,c.c)(s,_),"aria-controls":null==(n=null==(e=B[O])?void 0:e.current)?void 0:n.id,"aria-selected":R,tabIndex:R?0:-1,disabled:E||void 0,autoFocus:F},z,Z,J);return(0,u.Ci)()({ourProps:K,theirProps:b,slot:$,defaultTag:"button",name:"Tabs.Tab"})}),N=(0,u.FX)(function(s,i){let{defaultIndex:e=0,vertical:n=!1,manual:h=!1,onChange:l,selectedIndex:a=null,...c}=s,x=n?"vertical":"horizontal",j=h?"manual":"auto",g=null!==a,y=(0,k.Y)({isControlled:g}),F=(0,p.P)(i),[m,D]=(0,r.useReducer)(T,{info:y,selectedIndex:null!=a?a:e,tabs:[],panels:[]}),C=(0,r.useMemo)(()=>({selectedIndex:m.selectedIndex}),[m.selectedIndex]),f=(0,k.Y)(l||(()=>{})),A=(0,k.Y)(m.tabs),v=(0,r.useMemo)(()=>({orientation:x,activation:j,...m}),[x,j,m]),w=(0,t._)(s=>(D({type:1,tab:s}),()=>D({type:2,tab:s}))),I=(0,t._)(s=>(D({type:3,panel:s}),()=>D({type:4,panel:s}))),_=(0,t._)(s=>{S.current!==s&&f.current(s),g||D({type:0,index:s})}),S=(0,k.Y)(g?s.selectedIndex:m.selectedIndex),N=(0,r.useMemo)(()=>({registerTab:w,registerPanel:I,change:_}),[]);(0,d.s)(()=>{D({type:0,index:null!=a?a:e})},[a]),(0,d.s)(()=>{if(void 0===S.current||m.tabs.length<=0)return;let s=(0,o.wl)(m.tabs,s=>s.current);s.some((s,i)=>m.tabs[i]!==s)&&_(s.indexOf(m.tabs[S.current]))});let q=(0,u.Ci)();return r.createElement(b,null,r.createElement(P.Provider,{value:N},r.createElement(B.Provider,{value:v},v.tabs.length<=0&&r.createElement(E,{onFocus:()=>{var s,i;for(let e of A.current)if((null==(s=e.current)?void 0:s.tabIndex)===0)return null==(i=e.current)||i.focus(),!0;return!1}}),q({ourProps:{ref:F},theirProps:c,slot:C,defaultTag:"div",name:"Tabs"}))))}),q=(0,u.FX)(function(s,i){let{orientation:e,selectedIndex:n}=w("Tab.List"),h=(0,p.P)(i),l=(0,r.useMemo)(()=>({selectedIndex:n}),[n]);return(0,u.Ci)()({ourProps:{ref:h,role:"tablist","aria-orientation":e},theirProps:s,slot:l,defaultTag:"div",name:"Tabs.List"})}),M=(0,u.FX)(function(s,i){let{selectedIndex:e}=w("Tab.Panels"),n=(0,p.P)(i),h=(0,r.useMemo)(()=>({selectedIndex:e}),[e]);return(0,u.Ci)()({ourProps:{ref:n},theirProps:s,slot:h,defaultTag:"div",name:"Tabs.Panels"})}),O=(0,u.FX)(function(s,i){var e,n,l,a;let t=(0,r.useId)(),{id:k=`headlessui-tabs-panel-${t}`,tabIndex:c=0,...E}=s,{selectedIndex:o,tabs:j,panels:g}=w("Tab.Panel"),y=I("Tab.Panel"),F=(0,r.useRef)(null),b=(0,p.P)(F,i);(0,d.s)(()=>y.registerPanel(F),[y,F]);let D=m("panels"),C=g.indexOf(F);-1===C&&(C=D);let f=C===o,{isFocusVisible:A,focusProps:v}=(0,h.o)(),B=(0,r.useMemo)(()=>({selected:f,focus:A}),[f,A]),P=(0,u.v6)({ref:b,id:k,role:"tabpanel","aria-labelledby":null==(n=null==(e=j[C])?void 0:e.current)?void 0:n.id,tabIndex:f?c:-1},v),T=(0,u.Ci)();return f||null!=(l=E.unmount)&&!l||null!=(a=E.static)&&a?T({ourProps:P,theirProps:E,slot:B,defaultTag:"div",features:_,visible:f,name:"Tabs.Panel"}):r.createElement(x.j,{"aria-hidden":"true",...P})}),R=Object.assign(S,{Group:N,List:q,Panels:M,Panel:O});var L=e(3367);function U(s){return!!s&&"object"==typeof s&&"label"in s}let G=({items:s,children:i,storageKey:e,defaultIndex:h=0,selectedIndex:l,onChange:a,className:t,tabClassName:d})=>{let[k,c]=(0,r.useState)(h);(0,r.useEffect)(()=>{void 0!==l&&c(l)},[l]),(0,r.useEffect)(()=>{if(!e)return;function s(s){s.key===e&&c(Number(s.newValue))}let i=Number(localStorage.getItem(e));return c(Number.isNaN(i)?0:i),window.addEventListener("storage",s),()=>{window.removeEventListener("storage",s)}},[]);let p=(0,r.useCallback)(s=>{if(e){let i=String(s);localStorage.setItem(e,i),window.dispatchEvent(new StorageEvent("storage",{key:e,newValue:i}));return}c(s),a?.(s)},[]);return(0,n.jsxs)(N,{selectedIndex:k,defaultIndex:h,onChange:p,tabIndex:-1,children:[(0,n.jsx)(q,{className:s=>(0,L.A)("nextra-scrollbar _overflow-x-auto _overscroll-x-contain _overflow-y-hidden","_mt-4 _flex _w-full _gap-2 _border-b _border-gray-200 _pb-px dark:_border-neutral-800","nextra-focus","function"==typeof t?t(s):t),children:s.map((s,i)=>(0,n.jsx)(R,{disabled:U(s)&&s.disabled,className:s=>{let{selected:i,disabled:e,hover:n,focus:h}=s;return(0,L.A)(h&&"nextra-focusable _ring-inset",i&&"_outline-none","_whitespace-nowrap","_rounded-t _p-2 _font-medium _leading-5 _transition-colors","_-mb-0.5 _select-none _border-b-2",i?"_border-current":n?"_border-gray-200 dark:_border-neutral-800":"_border-transparent",i?"_text-primary-600":e?"_text-gray-400 dark:_text-neutral-600 _pointer-events-none":n?"_text-black dark:_text-white":"_text-gray-600 dark:_text-gray-200","function"==typeof d?d(s):d)},children:U(s)?s.label:s},i))}),(0,n.jsx)(M,{children:i})]})},Y=Object.assign(s=>(0,n.jsx)(G,{...s}),{Tab:({children:s,unmount:i=!1,className:e,...h})=>(0,n.jsx)(O,{...h,unmount:i,className:s=>(0,L.A)("_rounded _mt-6",s.focus&&"nextra-focusable","function"==typeof e?e(s):e),children:s})})}},s=>{var i=i=>s(s.s=i);s.O(0,[7017,636,6593,8792],()=>i(8564)),_N_E=s.O()}]);